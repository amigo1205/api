parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({366:[function(require,module,exports) {

var t,e,n=module.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function u(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(e){t=r}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(t){e=o}}();var c,s=[],l=!1,a=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):a=-1,s.length&&h())}function h(){if(!l){var t=i(f);l=!0;for(var e=s.length;e;){for(c=s,s=[];++a<e;)c&&c[a].run();a=-1,e=s.length}c=null,l=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new m(t,e)),1!==s.length||l||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0};
},{}],279:[function(require,module,exports) {
var process = require("process");
var e=require("process");Object.defineProperty(exports,"__esModule",{value:!0});const t=e=>e instanceof HTMLElement,r=(e,t=[],r=[])=>{const o=babelHelpers.extends({},e),n=[],s=[],i=(e,t,r)=>{r?s.push({type:e,data:t}):(c[e]&&c[e](t),n.push({type:e,data:t}))},a=(e,...t)=>p[e]?p[e](...t):null,l={getState:()=>babelHelpers.extends({},o),processActionQueue:()=>{const e=[...n];return n.length=0,e},processDispatchQueue:()=>{const e=[...s];s.length=0,e.forEach(({type:e,data:t})=>{i(e,t)})},dispatch:i,query:a};let p={};t.forEach(e=>{p=babelHelpers.extends({},e(o),p)});let c={};return r.forEach(e=>{c=babelHelpers.extends({},e(i,a,o),c)}),l},o=(e,t,r)=>{"function"!=typeof r?Object.defineProperty(e,t,babelHelpers.extends({},r)):e[t]=r},n=(e,t)=>{for(const r in e)e.hasOwnProperty(r)&&t(r,e[r])},s=e=>{const t={};return n(e,r=>{o(t,r,e[r])}),t},i=(e,t,r=null)=>{if(null===r)return e.getAttribute(t)||e.hasAttribute(t);e.setAttribute(t,r)},a="http://www.w3.org/2000/svg",l=["svg","path"],p=e=>l.includes(e),c=(e,t,r={})=>{"object"==typeof t&&(r=t,t=null);const o=p(e)?document.createElementNS(a,e):document.createElement(e);return t&&(p(e)?i(o,"class",t):o.className=t),n(r,(e,t)=>{i(o,e,t)}),o},d=e=>(t,r)=>{void 0!==r&&e.children[r]?e.insertBefore(t,e.children[r]):e.appendChild(t)},u=(e,t)=>(e,r)=>(void 0!==r?t.splice(r,0,e):t.push(e),e),E=(e,t)=>r=>(t.splice(t.indexOf(r),1),r.element.parentNode&&e.removeChild(r.element),r),f=(e,t,r,o)=>{const n=r[0]||e.left,s=r[1]||e.top,i=n+e.width,a=s+e.height*(o[1]||1),l={element:babelHelpers.extends({},e),inner:{left:e.left,top:e.top,right:e.right,bottom:e.bottom},outer:{left:n,top:s,right:i,bottom:a}};return t.filter(e=>!e.isRectIgnored()).map(e=>e.rect).forEach(e=>{_(l.inner,babelHelpers.extends({},e.inner)),_(l.outer,babelHelpers.extends({},e.outer))}),m(l.inner),l.outer.bottom+=l.element.marginBottom,l.outer.right+=l.element.marginRight,m(l.outer),l},_=(e,t)=>{t.top+=e.top,t.right+=e.left,t.bottom+=e.top,t.left+=e.left,t.bottom>e.bottom&&(e.bottom=t.bottom),t.right>e.right&&(e.right=t.right)},m=e=>{e.width=e.right-e.left,e.height=e.bottom-e.top},I=e=>"number"==typeof e,T=(e,t,r,o=.001)=>Math.abs(e-t)<o&&Math.abs(r)<o,g=({stiffness:e=.5,damping:t=.75,mass:r=10}={})=>{let o=null,n=null,i=0,a=!1;const l=s({interpolate:()=>{if(a)return;if(!I(o)||!I(n))return a=!0,void(i=0);T(n+=i+=-(n-o)*e/r,o,i*=t)?(n=o,i=0,a=!0,l.onupdate(n),l.oncomplete(n)):l.onupdate(n)},target:{set:e=>{if(I(e)&&!I(n)&&(n=e),n===(o=e)||void 0===o)return a=!0,i=0,l.onupdate(n),void l.oncomplete(n);a=!1},get:()=>o},resting:{get:()=>a},onupdate:e=>{},oncomplete:e=>{}});return l},h=e=>e<.5?2*e*e:(4-2*e)*e-1,R=({duration:e=500,easing:t=h,delay:r=0}={})=>{let o,n,i=null,a=!0,l=!1,p=null;const c=s({interpolate:s=>{a||null===p||(null===i&&(i=s),s-i<r||((o=s-i-r)<e?(n=o/e,c.onupdate((o>=0?t(l?1-n:n):0)*p)):(o=1,a=!0,n=l?0:1,c.onupdate(n*p),c.oncomplete(n*p))))},target:{get:()=>l?0:p,set:e=>{if(null===p)return p=e,c.onupdate(e),void c.oncomplete(e);e<p?(p=1,l=!0):(l=!1,p=e),a=!1,i=null}},resting:{get:()=>a},onupdate:e=>{},oncomplete:e=>{}});return c},D={spring:g,tween:R},b=(e,t,r)=>{const o=e[t]&&"object"==typeof e[t][r]?e[t][r]:e[t]||e,n="string"==typeof o?o:o.type,s="object"==typeof o?babelHelpers.extends({},o):{};return D[n]?D[n](s):null},y=(e,t,r,o=!1)=>{(t=Array.isArray(t)?t:[t]).forEach(t=>{e.forEach(e=>{let n=e,s=()=>r[e],i=t=>r[e]=t;"object"==typeof e&&(n=e.key,s=e.getter||s,i=e.setter||i),t[n]&&!o||(t[n]={get:s,set:i})})})},O=e=>null==e,S=e=>!O(e),L=({mixinConfig:e,viewProps:t,viewInternalAPI:r,viewExternalAPI:o,viewState:s})=>{const i=babelHelpers.extends({},t),a=[];let l=0;return n(e,(e,n)=>{const s=b(n);s&&(s.onupdate=(r=>{t[e]=r}),s.oncomplete=(()=>{l--}),l++,s.target=i[e],y([{key:e,setter:e=>{s.target!==e&&(s.resting&&l++,s.target=e)},getter:()=>t[e]}],[r,o],t,!0),a.push(s))}),{write:e=>(a.forEach(t=>{t.interpolate(e)}),0===l),destroy:()=>{}}},A=e=>(t,r)=>{e.addEventListener(t,r)},P=e=>(t,r)=>{e.removeEventListener(t,r)},w=({mixinConfig:e,viewProps:t,viewInternalAPI:r,viewExternalAPI:o,viewState:n,view:s})=>{const i=[],a=A(s.element),l=P(s.element);return o.on=((e,t)=>{i.push({type:e,fn:t}),a(e,t)}),o.off=((e,t)=>{i.splice(i.findIndex(r=>r.type===e&&r.fn===t),1),l(e,t)}),{write:()=>!0,destroy:()=>{i.forEach(e=>{l(e.type,e.fn)})}}},v=({mixinConfig:e,viewProps:t,viewExternalAPI:r})=>{y(e,r,t)},M={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0},C=({mixinConfig:e,viewProps:t,viewInternalAPI:r,viewExternalAPI:o,view:n})=>{const s=babelHelpers.extends({},t),i={};y(e,[r,o],t);const a=()=>n.rect?f(n.rect,n.childViews,(()=>[t.translateX||0,t.translateY||0])(),(()=>[t.scaleX||0,t.scaleY||0])()):null;return r.rect={get:a},o.rect={get:a},e.forEach(e=>{t[e]=void 0===s[e]?M[e]:s[e]}),{write:()=>{if(N(i,t))return G(n.element,t),Object.assign(i,...t),!0},destroy:()=>{}}},N=(e,t)=>{if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const r in t)if(t[r]!==e[r])return!0;return!1},G=(e,{opacity:t,translateX:r,translateY:o,scaleX:n,scaleY:s,rotateX:i,rotateY:a,rotateZ:l,height:p})=>{const c=[],d=[];(S(r)||S(o))&&c.push(`translate3d(${r||0}px, ${o||0}px, 0)`),(S(n)||S(s))&&c.push(`scale3d(${S(n)?n:1}, ${S(s)?s:1}, 1)`),(S(l)||S(a)||S(i))&&c.push(`rotate3d(${i||0}, ${a||0}, ${l||0}, 360deg)`),c.length&&d.push(`transform:${c.join(" ")}`),S(t)&&(d.push(`opacity:${t}`),0===t&&d.push("visibility:hidden"),t<1&&d.push("pointer-events:none;")),S(p)&&d.push(`height:${p}px`);const u=e.getAttribute("style")||"",E=d.join(";");E.length===u.length&&E===u||e.setAttribute("style",E)},x={styles:C,listeners:w,animations:L,apis:v},B=(e={},t={},r={})=>(e.paddingTop=parseInt(r.paddingTop,10)||0,e.marginTop=parseInt(r.marginTop,10)||0,e.marginRight=parseInt(r.marginRight,10)||0,e.marginBottom=parseInt(r.marginBottom,10)||0,e.marginLeft=parseInt(r.marginLeft,10)||0,e.left=t.offsetLeft||0,e.top=t.offsetTop||0,e.width=t.offsetWidth||0,e.height=t.offsetHeight||0,e.right=e.left+e.width,e.bottom=e.top+e.height,e.scrollTop=t.scrollTop,e.hidden=null===t.offsetParent,e),F=({tag:e="div",name:t=null,attributes:r={},read:o=(()=>{}),write:i=(()=>{}),create:a=(()=>{}),destroy:l=(()=>{}),filterFrameActionsForChild:p=((e,t)=>t),didCreateView:_=(()=>{}),ignoreRect:m=!1,mixins:I=[]}={})=>(T,g={})=>{const h=c(e,`filepond--${t}`,r),R=window.getComputedStyle(h,null),D=B();let b=null;const y=[],O=[],S={},L={},A=[i],P=[o],w=[l],v=()=>h,M=()=>[...y],C=()=>b||(b=f(D,y,[0,0],[1,1])),N={element:{get:v},style:{get:()=>R},childViews:{get:M}},G=babelHelpers.extends({},N,{rect:{get:C},ref:{get:()=>S},is:e=>t===e,appendChild:d(h),createChildView:(e=>(t,r)=>t(e,r))(T),appendChildView:u(0,y),removeChildView:E(h,y),registerWriter:e=>A.push(e),registerReader:e=>P.push(e),dispatch:T.dispatch,query:T.query}),F={element:{get:v},childViews:{get:M},rect:{get:C},isRectIgnored:()=>m,_read:()=>{b=null,y.forEach(e=>e._read()),B(D,h,R),P.forEach(e=>e({root:U,props:g,rect:D}))},_write:(e,t=[])=>{let r=0===t.length;return A.forEach(o=>{!1===o({props:g,root:U,actions:t,timestamp:e})&&(r=!1)}),O.forEach(t=>{!1===t.write(e)&&(r=!1)}),y.filter(e=>!!e.element.parentNode).forEach(o=>{o._write(e,p(o,t))||(r=!1)}),y.filter(e=>!e.element.parentNode).forEach((o,n)=>{U.appendChild(o.element,n),o._read(),o._write(e,p(o,t)),r=!1}),r},_destroy:()=>{O.forEach(e=>e.destroy()),w.forEach(e=>e({root:U})),y.forEach(e=>e._destroy())}},q=babelHelpers.extends({},N,{rect:{get:()=>D}});n(I,(e,t)=>{const r=x[e]({mixinConfig:t,viewProps:g,viewState:L,viewInternalAPI:G,viewExternalAPI:F,view:s(q)});r&&O.push(r)});const U=s(G);a({root:U,props:g});const V=h.children.length;return y.forEach((e,t)=>{U.appendChild(e.element,V+t)}),_(U),s(F)},q=(e,t=60)=>{const r=1e3/t;let o=null,n=null;const s=t=>{n=window.requestAnimationFrame(s),o||(o=t);const i=t-o;i<=r||(o=t-i%r,e(t))};return s(performance.now()),{pause:()=>{window.cancelAnimationFrame(n)}}},U=(e,t,r)=>o=>{e.forEach(e=>e[t]()),e.forEach(e=>e[r](o))},V=e=>({root:t,props:r,actions:o=[]})=>{o.filter(t=>e[t.type]).forEach(o=>e[o.type]({root:t,props:r,action:o.data}))},Y=(e,t)=>t.parentNode.insertBefore(e,t),H=(e,t)=>t.parentNode.insertBefore(e,t.nextSibling),$=e=>Array.isArray(e),X=e=>e.trim(),W=e=>""+e,z=(e,t=",")=>O(e)?[]:$(e)?e:W(e).split(t).map(X).filter(e=>e.length),j=e=>"boolean"==typeof e,k=e=>j(e)?e:"true"===e,Q=e=>"string"==typeof e,Z=e=>I(e)?e:Q(e)?W(e).replace(/[a-z]+/gi,""):0,K=e=>parseInt(Z(e),10),J=e=>parseFloat(Z(e)),ee=e=>I(e)&&isFinite(e)&&Math.floor(e)===e,te=e=>{if(ee(e))return e;let t=W(e).trim();return/MB$/i.test(t)?(t=t.replace(/MB$i/,"").trim(),1e3*K(t)*1e3):/KB/i.test(t)?(t=t.replace(/KB$i/,"").trim(),1e3*K(t)):K(t)},re=e=>{let t=self,r=e.split("."),o=null;for(;o=r.shift();)if(!(t=t[o]))return null;return t},oe={process:"POST",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},ne=e=>{const t={};return t.url=Q(e)?e:e.url||"",t.timeout=e.timeout?parseInt(e.timeout,10):7e3,n(oe,r=>{t[r]=se(r,e[r],oe[r],t.timeout)}),t},se=(e,t,r,o)=>{if(null===t)return null;if("function"==typeof t)return t;const n={url:"GET"===r?`?${e}=`:"",method:r,headers:{},withCredentials:!1,timeout:o};if(Q(t))return n.url=t,n;if(Object.assign(n,t),Q(n.headers)){const e=n.headers.split(/:(.+)/);n.headers={header:e[0],value:e[1]}}return n.withCredentials=k(n.withCredentials),n},ie=e=>ne(e),ae=e=>null===e,le=e=>"object"==typeof e&&null!==e,pe=e=>le(e)&&Q(e.url)&&le(e.process)&&le(e.revert)&&le(e.restore)&&le(e.fetch),ce=e=>$(e)?"array":ae(e)?"null":ee(e)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(e)?"bytes":pe(e)?"api":typeof e,de={array:z,boolean:k,int:e=>"bytes"===ce(e)?te(e):K(e),float:J,bytes:te,string:W,serverapi:ie,function:e=>re(e)},ue=(e,t)=>de[t](e),Ee=(e,t,r)=>{if(e===t)return e;let o=ce(e);if(o!==r){const t=ue(e,r);if(o=ce(t),null===t)throw`Trying to assign value with incorrect type to "${option}", allowed type: "${r}"`;e=t}return e},fe=(e,t,r)=>{let o=t;return{get:()=>o,set:e=>{o=Ee(e,t,r)}}},_e=e=>{const t={};return n(e,r=>{const o=e[r];t[r]=fe(0,o[0],o[1])}),s(t)},me=e=>({items:[],options:_e(e)}),Ie=(e,t="-")=>e.split(/(?=[A-Z])/).map(e=>e.toLowerCase()).join(t),Te=(e,t)=>{const r={};return n(t,t=>{r[t]={get:()=>e.getState().options[t],set:r=>{e.dispatch(`SET_${Ie(t,"_").toUpperCase()}`,{value:r})}}}),r},ge=e=>(t,r,o)=>{const s={};return n(e,e=>{const r=Ie(e,"_").toUpperCase();s[`SET_${r}`]=(n=>{try{o.options[e]=n.value}catch(e){}t(`DID_SET_${r}`,{value:o.options[e]})})}),s},he=e=>t=>{const r={};return n(e,e=>{r[`GET_${Ie(e,"_").toUpperCase()}`]=(r=>t.options[e])}),r},Re={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},De=()=>Math.random().toString(36).substr(2,9),be=(e,t,r=75)=>e.map((e,o)=>new Promise((n,s)=>{setTimeout(()=>{t(e),n()},r*o)})),ye=(e,t)=>e.splice(t,1),Oe=()=>{const e=[],t=(t,r)=>{ye(e,e.findIndex(e=>e.event===t&&(e.cb===r||!r)))};return{fire:(t,...r)=>{setTimeout(()=>{e.filter(e=>e.event===t).map(e=>e.cb).forEach(e=>{e(...r)})},0)},on:(t,r)=>{e.push({event:t,cb:r})},onOnce:(r,o)=>{e.push({event:r,cb:(...e)=>{t(r,o),o(...e)}})},off:t}},Se=(e,t,r)=>{Object.getOwnPropertyNames(e).filter(e=>!r.includes(e)).forEach(r=>Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r)))},Le=["fire","process","revert","load","on","off","onOnce","retryLoad"],Ae=e=>{const t={};return Se(e,t,Le),t},Pe=e=>/[^0-9]+/.exec(e),we=()=>Pe(1.1.toLocaleString())[0],ve=()=>{const e=we(),t=1e3.toLocaleString();return t!==1e3.toString()?Pe(t)[0]:"."===e?",":"."},Me={BOOLEAN:"boolean",INT:"int",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},Ce=[],Ne=(e,t,r)=>new Promise((o,n)=>{const s=Ce.filter(t=>t.key===e).map(e=>e.cb);if(0===s.length)return void o(t);const i=s.shift();s.reduce((e,t)=>e.then(e=>t(e,r)),i(t,r)).then(e=>o(e)).catch(e=>n(e))}),Ge=(e,t,r)=>Ce.filter(t=>t.key===e).map(e=>e.cb(t,r)),xe=(e,t)=>Ce.push({key:e,cb:t}),Be=e=>Object.assign(Ue,e),Fe=()=>babelHelpers.extends({},Ue),qe=e=>{n(e,(e,t)=>{Ue[e]&&(Ue[e][0]=Ee(t,Ue[e][0],Ue[e][1]))})},Ue={id:[null,Me.STRING],name:["filepond",Me.STRING],className:[null,Me.STRING],required:[!1,Me.BOOLEAN],captureMethod:[null,Me.STRING],allowDrop:[!0,Me.BOOLEAN],allowBrowse:[!0,Me.BOOLEAN],allowPaste:[!0,Me.BOOLEAN],allowMultiple:[!1,Me.BOOLEAN],allowReplace:[!0,Me.BOOLEAN],allowRevert:[!0,Me.BOOLEAN],maxFiles:[null,Me.INT],dropOnPage:[!1,Me.BOOLEAN],dropOnElement:[!0,Me.BOOLEAN],dropValidation:[!1,Me.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],Me.ARRAY],instantUpload:[!0,Me.BOOLEAN],server:[null,Me.SERVER_API],labelDecimalSeparator:[we(),Me.STRING],labelThousandsSeparator:[ve(),Me.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',Me.STRING],labelFileWaitingForSize:["Waiting for size",Me.STRING],labelFileSizeNotAvailable:["Size not available",Me.STRING],labelFileCountSingular:["file in list",Me.STRING],labelFileCountPlural:["files in list",Me.STRING],labelFileLoading:["Loading",Me.STRING],labelFileAdded:["Added",Me.STRING],labelFileRemoved:["Removed",Me.STRING],labelFileLoadError:["Error during load",Me.STRING],labelFileProcessing:["Uploading",Me.STRING],labelFileProcessingComplete:["Upload complete",Me.STRING],labelFileProcessingAborted:["Upload cancelled",Me.STRING],labelFileProcessingError:["Error during upload",Me.STRING],labelTapToCancel:["tap to cancel",Me.STRING],labelTapToRetry:["tap to retry",Me.STRING],labelTapToUndo:["tap to undo",Me.STRING],labelButtonRemoveItem:["Remove",Me.STRING],labelButtonAbortItemLoad:["Abort",Me.STRING],labelButtonRetryItemLoad:["Retry",Me.STRING],labelButtonAbortItemProcessing:["Cancel",Me.STRING],labelButtonUndoItemProcessing:["Undo",Me.STRING],labelButtonRetryItemProcessing:["Retry",Me.STRING],labelButtonProcessItem:["Upload",Me.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',Me.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',Me.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',Me.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',Me.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',Me.STRING],oninit:[null,Me.FUNCTION],onwarning:[null,Me.FUNCTION],onerror:[null,Me.FUNCTION],onaddfilestart:[null,Me.FUNCTION],onaddfileprogress:[null,Me.FUNCTION],onaddfile:[null,Me.FUNCTION],onprocessfilestart:[null,Me.FUNCTION],onprocessfileprogress:[null,Me.FUNCTION],onprocessfileabort:[null,Me.FUNCTION],onprocessfilerevert:[null,Me.FUNCTION],onprocessfile:[null,Me.FUNCTION],onremovefile:[null,Me.FUNCTION],files:[[],Me.ARRAY]},Ve=e=>"function"==typeof e,Ye=(e,t)=>O(t)?e[0]||null:ee(t)?e[t]||null:("object"==typeof t&&(t=t.id),e.find(e=>e.id===t)||null),He=e=>({GET_ITEM:t=>Ye(e.items,t),GET_ITEMS:t=>[...e.items],GET_ITEM_NAME:t=>{const r=Ye(e.items,t);return r?r.filename:null},GET_ITEM_SIZE:t=>{const r=Ye(e.items,t);return r?r.fileSize:null},GET_TOTAL_ITEMS:()=>e.items.length,IS_ASYNC:()=>le(e.options.server)&&(le(e.options.server.process)||Ve(e.options.server.process))}),$e=(e,t)=>O(t)?0:Q(t)?e.findIndex(e=>e.id===t):-1,Xe=(e,t)=>e.splice(t,1),We=e=>{const t=e.items.length;if(!e.options.allowMultiple)return 0===t;const r=e.options.maxFiles;return null===r||t<r},ze=(e,t,r)=>Math.max(Math.min(r,e),t),je=(e,t,r)=>e.splice(t,0,r),ke=(e,t,r)=>O(t)?null:void 0===r?(e.push(t),t):(r=ze(r,0,e.length),je(e,r,t),t),Qe=(e,t="")=>(t+e).slice(-t.length),Ze=(e=new Date)=>`${e.getFullYear()}-${Qe(e.getMonth()+1,"00")}-${Qe(e.getDate(),"00")}_${Qe(e.getHours(),"00")}-${Qe(e.getMinutes(),"00")}-${Qe(e.getSeconds(),"00")}`,Ke=e=>/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(e),Je=e=>e.split("/").pop().split("?").shift(),et=e=>e.split(".").pop(),tt=e=>{if("string"!=typeof e)return"";const t=e.split("/").pop();return/svg/.test(t)?"svg":/zip|compressed/.test(t)?"zip":/plain/.test(t)?"txt":/msword/.test(t)?"doc":/[a-z]+/.test(t)?"jpeg"===t?"jpg":t:""},rt=(e,t,r=null,o=null)=>{const n="string"==typeof r?e.slice(0,e.size,r):e.slice(0,e.size,e.type);return n.lastModifiedDate=new Date,t&&null===o&&et(t)?n.name=t:(o=o||tt(n.type),n.name=t+(o?"."+o:"")),n},ot=()=>window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,nt=(e,t)=>{const r=ot();if(r){const o=new r;return o.append(e),o.getBlob(t)}return new Blob([e],{type:t})},st=(e,t)=>{const r=new ArrayBuffer(e.length),o=new Uint8Array(r);for(let t=0;t<e.length;t++)o[t]=e.charCodeAt(t);return nt(r,t)},it=e=>(/^data:(.+);/.exec(e)||[])[1]||null,at=e=>{return e.split(",")[1].replace(/\s/g,"")},lt=e=>atob(at(e)),pt=e=>{const t=it(e),r=lt(e);return st(r,t)},ct=(e,t,r)=>rt(pt(e),t,null,r),dt=e=>{const t=e.split("\n");for(const e of t){const t=e.split("filename=")[1];if(t)return t.replace(/["']+/g,"")}return null},ut=(e,t)=>{const r=e.slice(0,e.size,e.type);return r.lastModifiedDate=e.lastModifiedDate,r.name=t,r},Et=e=>{const t={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},r=r=>{e?(t.timestamp=Date.now(),t.request=e(r,e=>{t.duration=Date.now()-t.timestamp,t.complete=!0,e instanceof Blob&&(e=rt(e,Je(r)||Ze())),o.fire("load",e instanceof Blob?e:e.body)},e=>{o.fire("error","string"==typeof e?{type:"error",code:0,body:e}:e)},(e,r,n)=>{n&&(t.size=n),t.duration=Date.now()-t.timestamp,e?(t.progress=r/n,o.fire("progress",t.progress)):t.progress=null},()=>{o.fire("abort")},e=>{o.fire("meta",{size:t.size,filename:dt("string"==typeof e?e:e.headers)})})):o.fire("error",{type:"error",body:"Can't load URL",code:400})},o=babelHelpers.extends({},Oe(),{setSource:e=>t.source=e,getProgress:()=>t.progress,abort:()=>{t.request&&t.request.abort()},load:()=>{const e=t.source;o.fire("init",e),e instanceof File?o.fire("load",e):e instanceof Blob?o.fire("load",rt(e,Ze())):Ke(e)?o.fire("load",ct(e,Ze())):r(e)}});return o},ft=(e,t,r,o)=>({type:e,code:t,body:r,headers:o}),_t=(e,t,r)=>{const o={onheaders:()=>{},onprogress:()=>{},onload:()=>{},onerror:()=>{},onabort:()=>{},abort:()=>{i=!0,l.abort()}};let n=null,s=!1,i=!1,a=!1;r=babelHelpers.extends({method:"POST",headers:{},withCredentials:!1},r),/GET/i.test(r.method)&&e&&(t=`${t}${encodeURIComponent("string"==typeof e?e:JSON.stringify(e))}`);const l=new XMLHttpRequest;return(/GET/i.test(r.method)?l:l.upload).onprogress=(e=>{clearTimeout(n),i||s||o.onprogress(e.lengthComputable,e.loaded,e.total)}),l.onreadystatechange=(()=>{l.readyState<2||4===l.readyState&&0===l.status||(clearTimeout(n),a||(a=!0,o.onheaders(ft("headers",l.status,null,l.getAllResponseHeaders()))))}),l.onload=(()=>{l.status>=200&&l.status<300?o.onload(ft("load",l.status,l.response,l.getAllResponseHeaders())):o.onerror(ft("error",l.status,l.statusText))}),l.onerror=(()=>{o.onerror(ft("error",l.status,l.statusText))}),l.onabort=(()=>{s||(i=!0,o.onabort())}),ee(r.timeout)&&(n=setTimeout(()=>{s=!0,o.onerror(ft("error",0,"timeout")),o.abort()},r.timeout)),l.open(r.method,t,!0),Object.keys(r.headers).forEach(e=>{l.setRequestHeader(e,r.headers[e])}),r.responseType&&(l.responseType=r.responseType),r.withCredentials&&(l.withCredentials=!0),l.send(e),o},mt=(e="",t)=>"function"==typeof t?t:t&&Q(t.url)?(r,o,n,s,i,a)=>{const l=_t(r,e+t.url,babelHelpers.extends({},t,{responseType:"blob"}));return l.onload=(e=>{e.body=rt(e.body,dt(e.headers)||Je(r)||Ze()),o(e)}),l.onerror=n,l.onprogress=s,l.onabort=i,l.onheaders=a,l}:null,It=(e="",t,r)=>"function"==typeof t?(...e)=>t(r,...e):t&&Q(t.url)?(o,n,s,i,a,l)=>{if(!o)return;var p=new FormData;p.append(r,o,o.name),le(n)&&p.append(r,JSON.stringify(n));const c=_t(p,e+t.url,t);return c.onload=s,c.onerror=i,c.onprogress=a,c.onabort=l,c}:null,Tt=(e="",t)=>"function"==typeof t?t:t&&Q(t.url)?(r,o,n)=>{const s=_t(r,e+t.url,t);return s.onload=o,s.onerror=n,s}:(e,t)=>t(),gt=(e=0,t=1)=>e+Math.random()*(t-e),ht=(e,t=1e3,r=0,o=25,n=250)=>{let s=null;const i=Date.now(),a=()=>{let r=Date.now()-i,l=gt(o,n);r+l>t&&(l=r+l-t);let p=r/t;p>=1?e(1):(e(p),s=setTimeout(a,l))};return a(),{clear:()=>{clearTimeout(s)}}},Rt=e=>{const t={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},r=()=>{t.request&&(t.perceivedPerformanceUpdater.clear(),t.request.abort(),t.complete=!0,o.fire("abort",t.response?t.response.body:null))},o=babelHelpers.extends({},Oe(),{process:(r,n)=>{const s=()=>{0!==t.duration&&null!==t.progress&&o.fire("progress",o.getProgress())},i=()=>{t.complete=!0,o.fire("load",t.response.body)};o.fire("start"),t.timestamp=Date.now(),t.perceivedPerformanceUpdater=ht(e=>{t.perceivedProgress=e,t.perceivedDuration=Date.now()-t.timestamp,s(),1===e&&t.response&&!t.complete&&i()},gt(750,1500)),t.request=e(r,n,e=>{t.response="string"==typeof e?{type:"load",code:200,body:e,headers:{}}:e,t.duration=Date.now()-t.timestamp,t.progress=1,1===t.perceivedProgress&&i()},e=>{t.perceivedPerformanceUpdater.clear(),o.fire("error","string"==typeof e?{type:"error",code:0,body:e}:e)},(e,r,o)=>{t.duration=Date.now()-t.timestamp,t.progress=e?r/o:null,s()},()=>{t.perceivedPerformanceUpdater.clear(),o.fire("abort")})},abort:r,getProgress:()=>t.progress?Math.min(t.progress,t.perceivedProgress):null,getDuration:()=>Math.min(t.duration,t.perceivedDuration),reset:()=>{r(),t.complete=!1,t.perceivedProgress=0,t.progress=0,t.timestamp=null,t.perceivedDuration=0,t.duration=0,t.request=null,t.response=null}});return o},Dt=e=>e.substr(0,e.lastIndexOf("."))||e,bt={INIT:1,IDLE:2,PROCESSING:3,PROCESSING_PAUSED:4,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,LOADING:7,LOAD_ERROR:8},yt=e=>{let t=[e.name,e.size,e.type];return e instanceof Blob||Ke(e)?t[0]=Ze():Ke(e)?(t[1]=e.length,t[2]=it(e)):e instanceof File||(t[0]=Je(e),t[1]=0,t[2]="application/octet-stream"),{name:t[0],size:t[1],type:t[2]}},Ot=(e=null)=>{const t=De(),r={source:null,file:null,serverFileReference:e,status:e?bt.PROCESSING_COMPLETE:bt.INIT,activeLoader:null,activeProcessor:null},o={},n=e=>r.status=e,i=(e,t)=>{if(!(r.file instanceof Blob))return void a.on("load",()=>{i(e,t)});e.on("load",e=>{r.activeProcessor=null,r.serverFileReference=e,n(bt.PROCESSING_COMPLETE),a.fire("process-complete",e)}),e.on("start",()=>{a.fire("process-start")}),e.on("error",e=>{r.activeProcessor=null,n(bt.PROCESSING_ERROR),a.fire("process-error",e)}),e.on("abort",e=>{r.activeProcessor=null,r.serverFileReference=e,n(bt.IDLE),a.fire("process-abort")}),e.on("progress",e=>{n(bt.PROCESSING),a.fire("process-progress",e)});t(r.file,t=>{e.process(t,babelHelpers.extends({},o))},e=>{}),r.activeProcessor=e},a=babelHelpers.extends({id:{get:()=>t},serverId:{get:()=>r.serverFileReference},status:{get:()=>r.status},filename:{get:()=>r.file.name},filenameWithoutExtension:{get:()=>Dt(r.file.name)},fileExtension:{get:()=>et(r.file.name)},fileType:{get:()=>r.file.type},fileSize:{get:()=>r.file.size},file:{get:()=>r.file},source:{get:()=>r.source},getMetadata:e=>e?o[e]:babelHelpers.extends({},o),setMetadata:(e,t)=>o[e]=t,abortLoad:()=>{r.activeLoader&&r.activeLoader.abort()},retryLoad:()=>{r.activeLoader&&r.activeLoader.load()},abortProcessing:()=>{r.activeProcessor&&r.activeProcessor.abort()},load:(e,t,o)=>{r.source=e,r.file=yt(e),t.on("init",()=>{a.fire("load-init")}),t.on("meta",e=>{r.file.size=e.size,r.file.filename=e.filename,a.fire("load-meta")}),t.on("progress",e=>{n(bt.LOADING),a.fire("load-progress",e)}),t.on("error",e=>{n(bt.LOAD_ERROR),a.fire("load-request-error",e)}),t.on("abort",()=>{n(bt.INIT),a.fire("load-abort")}),t.on("load",e=>{r.activeLoader=null;const t=e=>{r.file=e,n(bt.IDLE),a.fire("load")};r.serverFileReference?t(e):o(e,t,t=>{r.file=e,a.fire("load-meta"),n(bt.LOAD_ERROR),a.fire("load-file-error",t)})}),t.setSource(e),r.activeLoader=t,t.load()},process:i,revert:e=>{null!==r.serverFileReference&&(e(r.serverFileReference,()=>{r.serverFileReference=null},e=>{}),n(bt.IDLE),a.fire("process-revert"))}},Oe());return s(a)},St=(e,t)=>{const r=$e(e,t);if(!(r<0))return e[r]||null},Lt=(e,t)=>{const r=e.findIndex(e=>e===t);return Xe(e,r),t},At=(e,t,r,o,n,s)=>{const i=_t(null,e,{method:"GET",responseType:"blob"});return i.onload=(r=>{r.body=rt(r.body,dt(r.headers)||Je(e)||Ze()),t(r)}),i.onerror=r,i.onprogress=o,i.onabort=n,i.onheaders=s,i},Pt=e=>(0===e.indexOf("//")&&(e=location.protocol+e),e.toLowerCase().replace(/([a-z])?:\/\//,"$1").split("/")[0]),wt=e=>(e.indexOf(":")>-1||e.indexOf("//")>-1)&&Pt(location.href)!==Pt(e),vt=(e,t)=>({query:r,success:o=(()=>{}),failure:n=(()=>{})}={})=>{const s=Ye(e.items,r);s?t(s,o,n):n({error:ft("error",0,"Item not found"),file:null})},Mt=(e,t,r)=>({ABORT_ALL:()=>{t("GET_ITEMS").forEach(e=>{e.abortLoad(),e.abortProcessing()})},DID_SET_FILES:({value:t=[]})=>{const o=t.map(e=>({source:e.source?e.source:e,options:e.options}));[...r.items].forEach(t=>{o.find(e=>e.source===t.source)||e("REMOVE_ITEM",{query:t})}),o.forEach((t,o)=>{[...r.items].find(e=>e.source===t.source)||e("ADD_ITEM",babelHelpers.extends({},t,{interactionMethod:Re.NONE,index:o}))})},ADD_ITEM:({source:o,index:n,interactionMethod:s,success:i=(()=>{}),failure:a=(()=>{}),options:l={}})=>{if(O(o))return void a({error:ft("error",0,"No source"),file:null});if(o instanceof Blob&&r.options.ignoredFiles.includes(o.name.toLowerCase()))return;if(!We(r)){if(r.options.allowMultiple||!r.options.allowMultiple&&!r.options.allowReplace){const t=ft("warning",0,"Max files");return e("DID_THROW_MAX_FILES",{source:o,error:t}),void a({error:t,file:null})}e("REMOVE_ITEM",{query:r.items[0].id})}const p="local"===l.type,c="limbo"===l.type,d=p||c,u=Ot(d?o:null);ke(r.items,u,n);const E=u.id;u.on("load-init",()=>{e("DID_START_ITEM_LOAD",{id:E})}),u.on("load-meta",()=>{e("DID_UPDATE_ITEM_META",{id:E})}),u.on("load-progress",t=>{e("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:E,progress:t})}),u.on("load-request-error",t=>{if(t.code>=400&&t.code<500)return e("DID_THROW_ITEM_INVALID",{id:E,error:t,status:{main:r.options.labelFileLoadError,sub:`${t.code} (${t.body})`}}),void a({error:t,file:Ae(u)});e("DID_THROW_ITEM_LOAD_ERROR",{id:E,error:t,status:{main:r.options.labelFileLoadError,sub:r.options.labelTapToRetry}})}),u.on("load-file-error",t=>{e("DID_THROW_ITEM_INVALID",babelHelpers.extends({},t,{id:E}))}),u.on("load-abort",()=>{e("REMOVE_ITEM",{query:E})}),u.on("load",()=>{Ne("DID_LOAD_ITEM",u,{query:t}).then(()=>{Ne("SHOULD_PREPARE_OUTPUT",!1,{item:u,query:t}).then(t=>{const r={isServerFile:d,source:o,isLocalServerFile:p,isLimboServerFile:c,success:i};t?e("REQUEST_PREPARE_LOAD_ITEM",{query:E,item:u,data:r},!0):e("COMPLETE_LOAD_ITEM",{query:E,item:u,data:r})})})}),u.on("process-start",()=>{e("DID_START_ITEM_PROCESSING",{id:E})}),u.on("process-progress",t=>{e("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:E,progress:t})}),u.on("process-error",t=>{e("DID_THROW_ITEM_PROCESSING_ERROR",{id:E,error:t,status:{main:r.options.labelFileProcessingError,sub:r.options.labelTapToRetry}})}),u.on("process-abort",t=>{r.options.instantUpload?e("REMOVE_ITEM",{query:E}):e("DID_ABORT_ITEM_PROCESSING",{id:E}),e("REVERT_ITEM_PROCESSING",{query:E})}),u.on("process-complete",t=>{e("DID_COMPLETE_ITEM_PROCESSING",{id:E,error:null,serverFileReference:t})}),u.on("process-revert",()=>{r.options.instantUpload?e("REMOVE_ITEM",{query:E}):e("DID_REVERT_ITEM_PROCESSING",{id:E})}),e("DID_ADD_ITEM",{id:E,index:n,interactionMethod:s});const{url:f,load:_,restore:m,fetch:I}=r.options.server||{};u.load(o,Et(d?"limbo"===l.type?mt(f,m):mt(f,_):Q(o)&&wt(o)?mt(f,I):At),(e,r,o)=>{Ne("LOAD_FILE",e,{query:t}).then(r).catch(o)})},REQUEST_PREPARE_LOAD_ITEM:({item:r,data:o})=>{Ne("PREPARE_OUTPUT",r.file,{query:t,item:r}).then(n=>{Ne("COMPLETE_PREPARE_OUTPUT",n,{query:t,item:r}).then(t=>{e("COMPLETE_LOAD_ITEM",{item:r,data:o})})})},COMPLETE_LOAD_ITEM:({item:o,data:n})=>{const{success:s,isServerFile:i,source:a,isLocalServerFile:l,isLimboServerFile:p}=n;e("DID_LOAD_ITEM",{id:o.id,error:null,serverFileReference:i?a:null}),s(Ae(o)),l?e("DID_LOAD_LOCAL_ITEM",{id:o.id}):p?e("DID_COMPLETE_ITEM_PROCESSING",{id:o.id,error:null,serverFileReference:a}):t("IS_ASYNC")&&r.options.instantUpload&&e("REQUEST_ITEM_PROCESSING",{query:o.id})},RETRY_ITEM_LOAD:vt(r,e=>{e.retryLoad()}),REQUEST_ITEM_PROCESSING:vt(r,t=>{const r=t.id;e("DID_REQUEST_ITEM_PROCESSING",{id:r}),e("PROCESS_ITEM",{query:t},!0)}),PROCESS_ITEM:vt(r,(e,o,n)=>{e.onOnce("process-complete",()=>{o(Ae(e))}),e.onOnce("process-error",t=>{n({error:t,file:Ae(e)})}),e.process(Rt(It(r.options.server.url,r.options.server.process,r.options.name)),(r,o,n)=>{Ne("PREPARE_OUTPUT",r,{query:t,item:e}).then(o).catch(n)})}),RETRY_ITEM_PROCESSING:vt(r,t=>{e("REQUEST_ITEM_PROCESSING",{query:t})}),REMOVE_ITEM:vt(r,(t,r)=>{const o=t.id;e("DID_REMOVE_ITEM",{id:o,item:t}),e("SPLICE_ITEM",{id:o,item:t}),r(Ae(t))}),SPLICE_ITEM:({id:e})=>Lt(r.items,St(r.items,e)),ABORT_ITEM_LOAD:vt(r,e=>{e.abortLoad()}),ABORT_ITEM_PROCESSING:vt(r,e=>{e.abortProcessing()}),REVERT_ITEM_PROCESSING:vt(r,e=>{e.revert(Tt(r.options.server.url,r.options.server.revert))}),SET_OPTIONS:({options:t})=>{n(t,(t,r)=>{e(`SET_${Ie(t,"_").toUpperCase()}`,{value:r})})}}),Ct=e=>document.createElement(e),Nt=e=>decodeURI(e),Gt=(e,t)=>{let r=e.childNodes[0];r?t!==r.nodeValue&&(r.nodeValue=t):(r=document.createTextNode(t),e.appendChild(r))},xt=(e,t,r,o)=>{const n=(o%360-90)*Math.PI/180;return{x:e+r*Math.cos(n),y:t+r*Math.sin(n)}},Bt=(e,t,r,o,n,s)=>{const i=xt(e,t,r,n),a=xt(e,t,r,o);return["M",i.x,i.y,"A",r,r,0,s,0,a.x,a.y].join(" ")},Ft=(e,t,r,o,n)=>{let s=1;return n>o&&n-o<=.5&&(s=0),o>n&&o-n>=.5&&(s=0),Bt(e,t,r,360*Math.min(.9999,o),360*Math.min(.9999,n),s)},qt=({root:e,props:t})=>{t.spin=!1,t.progress=0,t.opacity=0;const r=c("svg");e.ref.path=c("path",{"stroke-width":2,"stroke-linecap":"round"}),r.appendChild(e.ref.path),e.ref.svg=r,e.appendChild(r)},Ut=({root:e,props:t})=>{if(0===t.opacity)return;const r=parseInt(i(e.ref.path,"stroke-width"),10),o=.5*e.rect.element.width;let n=0,s=0;t.spin?(n=0,s=.5):(n=0,s=t.progress);const a=Ft(o,o,o-r,n,s);i(e.ref.path,"d",a),i(e.ref.path,"stroke-opacity",t.spin||t.progress>0?1:0)},Vt=F({tag:"div",name:"progress-indicator",ignoreRect:!0,create:qt,write:Ut,mixins:{apis:["progress","spin"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),Yt=({root:e,props:t})=>{e.element.title=t.label,e.element.innerHTML=t.icon||"",t.disabled=!1},Ht=({root:e,props:t})=>{0!==t.opacity||t.disabled?t.opacity>0&&t.disabled&&(t.disabled=!1,e.element.removeAttribute("disabled")):(t.disabled=!0,i(e.element,"disabled","disabled"))},$t=F({tag:"button",attributes:{type:"button"},ignoreRect:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:Yt,write:Ht}),Xt=(e,t=".")=>(e=Math.round(Math.abs(e)))<1e3?`${e} bytes`:e<zt?`${Math.floor(e/Wt)} KB`:e<jt?`${kt(e/zt,1,t)} MB`:`${kt(e/jt,2,t)} GB`,Wt=1e3,zt=1e6,jt=1e9,kt=(e,t,r)=>e.toFixed(t).split(".").filter(e=>"0"!==e).join(r),Qt=({root:e,props:t})=>{const r=Ct("span");r.className="filepond--file-info-main",i(r,"aria-hidden","true"),e.appendChild(r),e.ref.fileName=r;const o=Ct("span");o.className="filepond--file-info-sub",e.appendChild(o),e.ref.fileSize=o,Gt(o,e.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),Gt(r,Nt(e.query("GET_ITEM_NAME",t.id)))},Zt=({root:e,props:t})=>{Gt(e.ref.fileSize,Xt(e.query("GET_ITEM_SIZE",t.id))),Gt(e.ref.fileName,Nt(e.query("GET_ITEM_NAME",t.id)))},Kt=({root:e,props:t})=>{ee(e.query("GET_ITEM_SIZE",t.id))||Gt(e.ref.fileSize,e.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},Jt=F({name:"file-info",ignoreRect:!0,write:V({DID_LOAD_ITEM:Zt,DID_UPDATE_ITEM_META:Zt,DID_THROW_ITEM_LOAD_ERROR:Kt,DID_THROW_ITEM_INVALID:Kt}),create:Qt,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),er=e=>Math.round(100*e),tr=({root:e,props:t})=>{const r=Ct("span");r.className="filepond--file-status-main",e.appendChild(r),e.ref.main=r;const o=Ct("span");o.className="filepond--file-status-sub",e.appendChild(o),e.ref.sub=o,rr({root:e,action:{progress:null}})},rr=({root:e,action:t})=>{const r=null===t.progress?e.query("GET_LABEL_FILE_LOADING"):`${e.query("GET_LABEL_FILE_LOADING")} ${er(t.progress)}%`;Gt(e.ref.main,r),Gt(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},or=({root:e,action:t})=>{const r=null===t.progress?e.query("GET_LABEL_FILE_PROCESSING"):`${e.query("GET_LABEL_FILE_PROCESSING")} ${er(t.progress)}%`;Gt(e.ref.main,r),Gt(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},nr=({root:e})=>{Gt(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING")),Gt(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},sr=({root:e})=>{Gt(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_ABORTED")),Gt(e.ref.sub,e.query("GET_LABEL_TAP_TO_RETRY"))},ir=({root:e})=>{Gt(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),Gt(e.ref.sub,e.query("GET_LABEL_TAP_TO_UNDO"))},ar=({root:e})=>{Gt(e.ref.main,""),Gt(e.ref.sub,"")},lr=({root:e,action:t})=>{Gt(e.ref.main,t.status.main),Gt(e.ref.sub,t.status.sub)},pr=F({name:"file-status",ignoreRect:!0,write:V({DID_LOAD_ITEM:ar,DID_REVERT_ITEM_PROCESSING:ar,DID_REQUEST_ITEM_PROCESSING:nr,DID_ABORT_ITEM_PROCESSING:sr,DID_COMPLETE_ITEM_PROCESSING:ir,DID_UPDATE_ITEM_PROCESS_PROGRESS:or,DID_UPDATE_ITEM_LOAD_PROGRESS:rr,DID_THROW_ITEM_LOAD_ERROR:lr,DID_THROW_ITEM_INVALID:lr,DID_THROW_ITEM_PROCESSING_ERROR:lr}),create:tr,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),cr={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing"}},dr=[];n(cr,e=>{dr.push(e)});const ur=e=>e.ref.buttonRemoveItem.rect.element.width+e.ref.buttonRemoveItem.rect.element.left,Er=e=>Math.floor(e.ref.buttonRemoveItem.rect.element.height/4),fr=e=>Math.floor(e.ref.buttonRemoveItem.rect.element.left/2),_r={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0},processProgressIndicator:{opacity:0},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},mr={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:ur},status:{translateX:ur}},Ir={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},Tr={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:ur},status:{translateX:ur,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:ur},status:{opacity:1}},DID_LOAD_ITEM:mr,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:ur},status:{translateX:ur}},DID_START_ITEM_PROCESSING:Ir,DID_REQUEST_ITEM_PROCESSING:Ir,DID_UPDATE_ITEM_PROCESS_PROGRESS:Ir,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:ur}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:ur},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:mr},gr=F({create:({root:e})=>{e.element.innerHTML=e.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),hr=({root:e,props:t})=>{const r=e.query("GET_ALLOW_REVERT"),o=e.query("IS_ASYNC")?dr.concat():dr.filter(e=>!/Process/.test(e));if(!r){o.splice(-1,1);const e=Tr.DID_COMPLETE_ITEM_PROCESSING;e.info.translateX=fr,e.info.translateY=Er,e.status.translateY=Er,e.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}n(cr,(r,n)=>{const s=e.createChildView($t,{label:e.query(n.label),icon:e.query(n.icon),opacity:0});o.includes(r)&&e.appendChildView(s),s.element.classList.add(n.className),s.on("click",()=>{e.dispatch(n.action,{query:t.id})}),e.ref[`button${r}`]=s}),e.ref.info=e.appendChildView(e.createChildView(Jt,{id:t.id})),e.ref.status=e.appendChildView(e.createChildView(pr,{id:t.id})),e.ref.processingCompleteIndicator=e.appendChildView(e.createChildView(gr)),e.ref.loadProgressIndicator=e.appendChildView(e.createChildView(Vt,{opacity:0})),e.ref.loadProgressIndicator.element.classList.add("filepond--load-indicator"),e.ref.processProgressIndicator=e.appendChildView(e.createChildView(Vt,{opacity:0})),e.ref.processProgressIndicator.element.classList.add("filepond--process-indicator")},Rr=({root:e,actions:t,props:r})=>{Dr({root:e,actions:t,props:r});let o=[...t].filter(e=>/^DID_/.test(e.type)).reverse().find(e=>Tr[e.type]);if(!o||o&&o.type===r.currentStyle)return;r.currentStyle=o.type;const s=Tr[r.currentStyle];n(_r,(t,r)=>{const o=e.ref[t];n(r,(r,n)=>{const i=s[t]&&void 0!==s[t][r]?s[t][r]:n;o[r]="function"==typeof i?i(e):i})})},Dr=V({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:({root:e,action:t})=>{e.ref.buttonAbortItemProcessing.label=t.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:({root:e,action:t})=>{e.ref.buttonAbortItemLoad.label=t.value},DID_REQUEST_ITEM_PROCESSING:({root:e,action:t})=>{e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:({root:e,action:t})=>{e.ref.loadProgressIndicator.spin=!0,e.ref.loadProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:({root:e,action:t})=>{e.ref.loadProgressIndicator.spin=!1,e.ref.loadProgressIndicator.progress=t.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:({root:e,action:t})=>{e.ref.processProgressIndicator.spin=!1,e.ref.processProgressIndicator.progress=t.progress}}),br=F({create:hr,write:Rr,didCreateView:e=>{Ge("CREATE_VIEW",babelHelpers.extends({},e,{view:e}))},name:"file"}),yr=({root:e,props:t})=>{e.ref.fileName=Ct("legend"),e.appendChild(e.ref.fileName),e.ref.file=e.appendChildView(e.createChildView(br,{id:t.id}));const r=Ct("input");r.type="hidden",r.name=e.query("GET_NAME"),e.ref.data=r,e.appendChild(r)},Or=({root:e,action:t,props:r})=>{e.ref.data.value=t.serverFileReference,Gt(e.ref.fileName,Nt(e.query("GET_ITEM_NAME",r.id)))},Sr=({root:e,action:t})=>{e.ref.data.removeAttribute("value")},Lr=({root:e,action:t})=>{e.ref.data.value=t.serverFileReference},Ar=({root:e,action:t})=>{e.ref.data.removeAttribute("value")},Pr=F({create:yr,write:V({DID_LOAD_ITEM:Or,DID_REMOVE_ITEM:Sr,DID_COMPLETE_ITEM_PROCESSING:Lr,DID_REVERT_ITEM_PROCESSING:Ar}),didCreateView:e=>{Ge("CREATE_VIEW",babelHelpers.extends({},e,{view:e}))},tag:"fieldset",name:"file-wrapper"}),wr={type:"spring",damping:.6,mass:7},vr=({root:e,props:t})=>{[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:wr},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:wr},styles:["translateY"]}}].forEach(r=>{Mr(e,r,t.name)}),e.element.classList.add(`filepond--${t.name}`)},Mr=(e,t,r)=>{const o=F({name:`panel-${t.name} filepond--${r}`,mixins:t.mixins}),n=e.createChildView(o,t.props);e.ref[t.name]=e.appendChildView(n)},Cr=({root:e,props:t})=>{if(!t.height)return;e.element.dataset.scalable=!j(t.scalable)||t.scalable;const r=e.ref.top.rect.element,o=e.ref.bottom.rect.element,n=Math.max(r.height+o.height,t.height);e.ref.center.translateY=r.height,e.ref.center.scaleY=(n-r.height-o.height)/100,e.ref.bottom.translateY=n-o.height},Nr=F({name:"panel",write:Cr,create:vr,ignoreRect:!0,mixins:{apis:["height","scalable"]}}),Gr=({root:e,props:t})=>{e.ref.controls=e.appendChildView(e.createChildView(Pr,{id:t.id})),e.ref.panel=e.appendChildView(e.createChildView(Nr,{name:"item-panel"})),e.ref.panel.height=0,t.markedForRemoval=!1},xr={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_START_ITEM_PROCESSING:"busy",DID_REQUEST_ITEM_PROCESSING:"busy",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},Br=({root:e,actions:t,props:r})=>{e.ref.panel.height=e.ref.controls.rect.inner.height,e.height=e.ref.controls.rect.inner.height;let o=[...t].filter(e=>/^DID_/.test(e.type)).reverse().find(e=>xr[e.type]);!o||o&&o.type===r.currentState||(r.currentState=o.type,e.element.dataset.filepondItemState=xr[r.currentState]||"")},Fr=F({create:Gr,write:Br,tag:"li",name:"item",mixins:{apis:["id","markedForRemoval"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),qr=({root:e,props:t})=>{i(e.element,"role","list")},Ur=({root:e,action:t})=>{const{id:r,index:o,interactionMethod:n}=t,s={opacity:0};n===Re.NONE&&(s.translateY=null),n===Re.DROP&&(s.scaleX=.8,s.scaleY=.8,s.translateY=null),n===Re.BROWSE&&(s.translateY=-30),n===Re.API&&(s.translateX=-100,s.translateY=null),e.appendChildView(e.createChildView(Fr,babelHelpers.extends({id:r},s)),o)},Vr=({root:e,action:t})=>{const{id:r}=t,o=e.childViews.find(e=>e.id===r);o&&(o.scaleX=.9,o.scaleY=.9,o.opacity=0,o.markedForRemoval=!0)},Yr=V({DID_ADD_ITEM:Ur,DID_REMOVE_ITEM:Vr}),Hr=(e,t,r)=>e-1===t?r/6:e===t?r/2:e+1===t?-r/2:e+2===t?-r/6:0,$r=({root:e,props:t,actions:r})=>{Yr({root:e,props:t,actions:r});let o=!0,n=0;return e.childViews.filter(e=>e.rect.outer.height).forEach((e,r)=>{const o=e.rect;e.translateX=0,e.translateY=n+(t.dragIndex>-1?Hr(r,t.dragIndex,10):0),e.markedForRemoval||(e.scaleX=1,e.scaleY=1,e.opacity=1),n+=o.outer.height}),e.childViews.filter(e=>e.markedForRemoval&&0===e.opacity).forEach(t=>{e.removeChildView(t),o=!1}),o},Xr=(e,t)=>t.filter(t=>!t.data||!t.data.id||e.id===t.data.id),Wr=F({create:qr,write:$r,tag:"ul",name:"list",filterFrameActionsForChild:Xr,mixins:{apis:["dragIndex"]}}),zr=(e,t)=>{let r=0;const o=e.childViews,n=o.length;for(;r<n;r++){const e=o[r].rect.outer,n=e.top+.5*e.height;if(t.top<n)return r}return n},jr=({root:e,props:t})=>{e.ref.list=e.appendChildView(e.createChildView(Wr)),t.dragCoordinates=null,t.overflowing=!1},kr=({root:e,props:t,action:r})=>{t.dragCoordinates={left:r.position.scopeLeft,top:r.position.scopeTop-e.rect.outer.top+e.rect.element.scrollTop}},Qr=({props:e})=>{e.dragCoordinates=null},Zr=V({DID_DRAG:kr,DID_END_DRAG:Qr}),Kr=({root:e,props:t,actions:r})=>{Zr({root:e,props:t,actions:r}),e.ref.list.dragIndex=t.dragCoordinates?zr(e.ref.list,t.dragCoordinates):-1,t.overflowing&&!t.overflow&&(t.overflowing=!1,e.element.dataset.state="",e.height=null),!t.overflowing&&t.overflow&&(t.overflowing=!0,e.element.dataset.state="overflow",e.height=t.overflow-e.translateY)},Jr=F({create:jr,write:Kr,name:"list-scroller",mixins:{apis:["overflow"],styles:["height","translateY"]}}),eo=(e,t,r,o="")=>{r?i(e,t,o):e.removeAttribute(t)},to=e=>{if(e&&""!==e.value){try{e.value=""}catch(e){}if(e.value){const t=Ct("form"),r=e.parentNode,o=e.nextSibling;t.appendChild(e),t.reset(),o?r.insertBefore(e,o):r.appendChild(e)}}},ro=({root:e,props:t})=>{e.element.id=`filepond--browser-${t.id}`,i(e.element,"aria-controls",`filepond--assistant-${t.id}`),i(e.element,"aria-labelledby",`filepond--drop-label-${t.id}`),e.element.addEventListener("change",()=>{if(!e.element.value)return;const r=[...e.element.files];setTimeout(()=>{t.onload(r),to(e.element)},250)})},oo=({root:e,action:t})=>{eo(e.element,"accept",!!t.value,t.value?t.value.join(","):"")},no=({root:e,action:t})=>{eo(e.element,"multiple",t.value)},so=({root:e,action:t})=>{eo(e.element,"disabled",!t.value)},io=({root:e,action:t})=>{t.value?0===e.query("GET_TOTAL_ITEMS")&&eo(e.element,"required",!0):eo(e.element,"required",!1)},ao=({root:e,action:t})=>{eo(e.element,"capture",!!t.value,!0===t.value?"":t.value)},lo=({root:e,props:t})=>{e.query("GET_TOTAL_ITEMS")>0?eo(e.element,"required",!1):e.query("GET_REQUIRED")&&eo(e.element,"required",!0)},po=F({tag:"input",name:"browser",ignoreRect:!0,attributes:{type:"file"},create:ro,write:V({DID_ADD_ITEM:lo,DID_REMOVE_ITEM:lo,DID_SET_ALLOW_BROWSE:so,DID_SET_ALLOW_MULTIPLE:no,DID_SET_ACCEPTED_FILE_TYPES:oo,DID_SET_CAPTURE_METHOD:ao,DID_SET_REQUIRED:io})}),co={ENTER:13,SPACE:32},uo=({root:e,props:t})=>{const r=Ct("label");i(r,"for",`filepond--browser-${t.id}`),i(r,"id",`filepond--drop-label-${t.id}`),i(r,"aria-hidden","true"),r.addEventListener("keydown",t=>{t.keyCode!==co.ENTER&&t.keyCode!==co.SPACE||(t.preventDefault(),e.ref.label.click())}),e.appendChild(r),e.ref.label=r},Eo=(e,t)=>{e.innerHTML=t;const r=e.querySelector(".filepond--label-action");return r&&i(r,"tabindex","0"),t},fo=F({name:"drop-label",create:uo,write:V({DID_SET_LABEL_IDLE:({root:e,action:t,props:r})=>{r.caption=Eo(e.ref.label,t.value)}}),mixins:{apis:["caption"],styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),_o=F({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),mo=({root:e})=>{const t=.5*e.rect.element.width,r=.5*e.rect.element.height;e.ref.blob=e.appendChildView(e.createChildView(_o,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:t,translateY:r}))},Io=({root:e,action:t})=>{e.ref.blob?(e.ref.blob.translateX=t.position.scopeLeft,e.ref.blob.translateY=t.position.scopeTop,e.ref.blob.scaleX=1,e.ref.blob.scaleY=1,e.ref.blob.opacity=1):mo({root:e})},To=({root:e})=>{e.ref.blob&&(e.ref.blob.opacity=0)},go=({root:e})=>{e.ref.blob&&(e.ref.blob.scaleX=2.5,e.ref.blob.scaleY=2.5,e.ref.blob.opacity=0)},ho=({root:e,props:t,actions:r})=>{Ro({root:e,props:t,actions:r});const{blob:o}=e.ref;0===r.length&&o&&0===o.opacity&&(e.removeChildView(o),e.ref.blob=null)},Ro=V({DID_DRAG:Io,DID_DROP:go,DID_END_DRAG:To}),Do=F({ignoreRect:!0,name:"drip",write:ho}),bo=e=>"getRootNode"in e?e.getRootNode():document,yo=e=>new Promise((t,r)=>{const o=Mo(e);o.length?t(o):Oo(e).then(t)}),Oo=e=>new Promise((t,r)=>{const o=(e.items?[...e.items]:[]).filter(e=>So(e)).map(e=>Lo(e));o.length?Promise.all(o).then(e=>{const r=[];e.forEach(e=>{r.push(...e)}),t(r.filter(e=>e))}):t([...e.files])}),So=e=>{if(wo(e)){const t=vo(e);if(t)return t.isFile||t.isDirectory}return"file"===e.kind},Lo=e=>new Promise((t,r)=>{Po(e)?Ao(vo(e)).then(t):t([e.getAsFile()])}),Ao=e=>new Promise((t,r)=>{const o=[];let n=0;const s=e=>{e.createReader().readEntries(e=>{e.forEach(e=>{e.isDirectory?s(e):(n++,e.file(e=>{o.push(e),n===o.length&&t(o)}))})})};s(e)}),Po=e=>wo(e)&&(vo(e)||{}).isDirectory,wo=e=>"webkitGetAsEntry"in e,vo=e=>e.webkitGetAsEntry(),Mo=e=>{let t=[];try{if((t=No(e)).length)return t;t=Co(e)}catch(e){}return t},Co=e=>{let t=e.getData("url");return"string"==typeof t&&t.length?[t]:[]},No=e=>{let t=e.getData("text/html");if("string"==typeof t&&t.length){const e=t.match(/src\s*=\s*"(.+?)"/);if(e)return[e[1]]}return[]},Go=[],xo=e=>({pageLeft:e.pageX,pageTop:e.pageY,scopeLeft:e.layerX||e.offsetX,scopeTop:e.layerY||e.offsetY}),Bo=(e,t,r)=>{const o=Fo(t),n={element:e,filterElement:r,state:null,ondrop:()=>{},onenter:()=>{},ondrag:()=>{},onexit:()=>{},onload:()=>{},allowdrop:()=>{}};return n.destroy=o.addListener(n),n},Fo=e=>{const t=Go.find(t=>t.element===e);if(t)return t;const r=qo(e);return Go.push(r),r},qo=e=>{const t=[],r={dragenter:Ho,dragover:$o,dragleave:Wo,drop:Xo},o={};n(r,(r,n)=>{o[r]=n(e,t),e.addEventListener(r,o[r],!1)});const s={element:e,addListener:i=>(t.push(i),()=>{t.splice(t.indexOf(i),1),0===t.length&&(Go.splice(Go.indexOf(s),1),n(r,t=>{e.removeEventListener(t,o[t],!1)}))})};return s},Uo=(e,t)=>{const r=bo(t).elementFromPoint(e.pageX-window.pageXOffset,e.pageY-window.pageYOffset);return r===t||t.contains(r)};let Vo=null;const Yo=(e,t)=>{try{e.dropEffect=t}catch(e){}},Ho=(e,t)=>e=>{e.preventDefault(),Vo=e.target,t.forEach(t=>{const{element:r,onenter:o}=t;Uo(e,r)&&(t.state="enter",o(xo(e)))})},$o=(e,t)=>e=>{e.preventDefault();const r=e.dataTransfer;yo(r).then(o=>{let n=!1;t.some(t=>{const{filterElement:s,element:i,onenter:a,onexit:l,ondrag:p,allowdrop:c}=t;Yo(r,"copy");const d=c(o);if(d)if(Uo(e,i)){if(n=!0,null===t.state)return t.state="enter",void a(xo(e));if(t.state="over",s&&!d)return void Yo(r,"none");p(xo(e))}else s&&!n&&Yo(r,"none"),t.state&&(t.state=null,l(xo(e)));else Yo(r,"none")})})},Xo=(e,t)=>e=>{e.preventDefault();const r=e.dataTransfer;yo(r).then(r=>{t.forEach(t=>{const{filterElement:o,element:n,ondrop:s,onexit:i,allowdrop:a}=t;t.state=null,a(r)?o&&!Uo(e,n)||s(xo(e),r):i(xo(e))})})},Wo=(e,t)=>e=>{Vo===e.target&&t.forEach(t=>{const{onexit:r}=t;t.state=null,r(xo(e))})},zo=(e,t,r)=>{e.classList.add("filepond--hopper");const{catchesDropsOnPage:o,requiresDropOnElement:n}=r,s=Bo(e,o?document.documentElement:e,n);let i="",a="";s.allowdrop=(e=>t(e)),s.ondrop=((e,r)=>{t(r)?(a="drag-drop",l.onload(r,e)):l.ondragend(e)}),s.ondrag=(e=>{l.ondrag(e)}),s.onenter=(e=>{a="drag-over",l.ondragstart(e)}),s.onexit=(e=>{a="drag-exit",l.ondragend(e)});const l={updateHopperState:()=>{i!==a&&(e.dataset.hopperState=a,i=a)},onload:()=>{},ondragstart:()=>{},ondrag:()=>{},ondragend:()=>{},destroy:()=>{s.destroy()}};return l};let jo=!1;const ko=[],Qo=e=>{yo(e.clipboardData).then(e=>{e.length&&ko.forEach(t=>t(e))})},Zo=e=>{ko.includes(e)||(ko.push(e),jo||(jo=!0,document.addEventListener("paste",Qo)))},Ko=e=>{ye(ko,ko.indexOf(e)),0===ko.length&&(document.removeEventListener("paste",Qo),jo=!1)},Jo=()=>{const e=e=>{t.onload(e)},t={destroy:()=>{Ko(e)},onload:()=>{}};return Zo(e),t},en=(e,t=16,r=!0)=>{let o=Date.now(),n=null;return(...s)=>{clearTimeout(n);const i=Date.now()-o,a=()=>{o=Date.now(),e(...s)};i<t?r||(n=setTimeout(a,t-i)):a()}},tn=({root:e,props:t})=>{e.element.id=`filepond--assistant-${t.id}`,i(e.element,"role","status"),i(e.element,"aria-live","polite"),i(e.element,"aria-relevant","additions")};let rn=null,on=null;const nn=[],sn=(e,t)=>{e.element.textContent=t},an=e=>{e.element.textContent=""},ln=(e,t,r)=>{const o=e.query("GET_TOTAL_ITEMS");sn(e,`${r} ${t}, ${o} ${1===o?e.query("GET_LABEL_FILE_COUNT_SINGULAR"):e.query("GET_LABEL_FILE_COUNT_PLURAL")}`),clearTimeout(on),on=setTimeout(()=>{an(e)},1500)},pn=e=>e.element.parentNode.contains(document.activeElement),cn=({root:e,action:t})=>{if(!pn(e))return;e.element.textContent="";const r=e.query("GET_ITEM",t.id);nn.push(r.filename),clearTimeout(rn),rn=setTimeout(()=>{ln(e,nn.join(", "),e.query("GET_LABEL_FILE_ADDED")),nn.length=0},750)},dn=({root:e,action:t})=>{if(!pn(e))return;const r=t.item;ln(e,r.filename,e.query("GET_LABEL_FILE_REMOVED"))},un=({root:e,action:t})=>{const r=e.query("GET_ITEM",t.id).filename,o=e.query("GET_LABEL_FILE_PROCESSING_COMPLETE");sn(e,`${r} ${o}`)},En=({root:e,action:t})=>{const r=e.query("GET_ITEM",t.id).filename,o=e.query("GET_LABEL_FILE_PROCESSING_ABORTED");sn(e,`${r} ${o}`)},fn=({root:e,action:t})=>{const r=e.query("GET_ITEM",t.id).filename;sn(e,`${t.status.main} ${r} ${t.status.sub}`)},_n=F({create:tn,ignoreRect:!0,write:V({DID_LOAD_ITEM:cn,DID_REMOVE_ITEM:dn,DID_COMPLETE_ITEM_PROCESSING:un,DID_ABORT_ITEM_PROCESSING:En,DID_REVERT_ITEM_PROCESSING:En,DID_THROW_ITEM_LOAD_ERROR:fn,DID_THROW_ITEM_INVALID:fn,DID_THROW_ITEM_PROCESSING_ERROR:fn}),tag:"span",name:"assistant"}),mn=({root:e,props:t})=>{const r=e.query("GET_ID");r&&(e.element.id=r);const o=e.query("GET_CLASS_NAME");o&&o.split(" ").forEach(t=>{e.element.classList.add(t)}),e.ref.label=e.appendChildView(e.createChildView(fo,babelHelpers.extends({},t,{translateY:null}))),e.ref.list=e.appendChildView(e.createChildView(Jr,{translateY:null})),e.ref.panel=e.appendChildView(e.createChildView(Nr,{name:"panel-root"})),e.ref.assistant=e.appendChildView(e.createChildView(_n,babelHelpers.extends({},t))),e.ref.measure=Ct("div"),e.ref.measure.style.height="100%",e.element.appendChild(e.ref.measure)},In=({root:e,props:t,actions:r})=>{yn({root:e,props:t,actions:r});const{hopper:o,label:n,list:s,panel:i,browser:a}=e.ref,l=e.query("GET_ALLOW_MULTIPLE"),p=e.query("GET_TOTAL_ITEMS"),c=e.query("GET_MAX_FILES"),d=l?p===c:1===p,u=[...s.childViews[0].childViews],E=[s],f=r.find(e=>"DID_ADD_ITEM"===e.type);if(d&&f){const e=f.data.interactionMethod;n.opacity=0,l?n.translateY=-n.rect.element.height:e===Re.API?n.translateX=40:n.translateY=e===Re.BROWSE?40:-40}else d||(n.opacity=1,n.translateY=e.rect.element.paddingTop,n.translateX=0,E.push(n),u.push(n));if(o&&o.updateHopperState(),!n.caption)return;s.translateY=l?n.rect.outer.bottom:e.rect.element.paddingTop;const _=gn(e,t),m=hn(u),I=Tn(E),T=p>0?.5*e.rect.element.paddingTop:0;if(_.fixedHeight)i.scalable=!1,i.height=_.fixedHeight+e.rect.element.paddingTop,s.overflow=m>i.height&&l?i.height:null;else if(_.cappedHeight){i.scalable=!0;const t=Math.min(_.cappedHeight,m);e.height=t+T,i.height=Math.min(_.cappedHeight+e.rect.element.paddingTop,I+T),s.overflow=m>i.height&&l?i.height:null}else i.scalable=!0,e.height=m+T+e.rect.element.paddingTop,i.height=I+T},Tn=e=>e.reduce((e,t)=>{const r=t.rect.outer.bottom;return r>e&&(e=r),e},0),gn=(e,t)=>{if(t.boxBounding)return t.boxBounding;const r=e.ref.measureHeight||null,o=parseInt(e.style.maxHeight,10)||null,n=0===r?null:r;return t.boxBounding={cappedHeight:o,fixedHeight:n},e.element.removeChild(e.ref.measure),e.ref.measure=null,t.boxBounding},hn=e=>e.reduce((e,t)=>e+t.rect.inner.bottom+t.rect.element.marginBottom,0),Rn=({root:e,props:t,action:r})=>{if(r.value&&!e.ref.hopper){const t=zo(e.element,t=>{const r=e.query("GET_ALLOW_REPLACE"),o=e.query("GET_ALLOW_MULTIPLE"),n=e.query("GET_TOTAL_ITEMS"),s=e.query("GET_DROP_VALIDATION");let i=e.query("GET_MAX_TOTAL_ITEMS");const a=t.length;return!(!o&&a>1)&&(!(ee(i=o?i:r?i:1)&&n+a>i)&&(!s||t.every(t=>Ge("ALLOW_HOPPER_ITEM",t,{query:e.query}).every(e=>!0===e))))},{catchesDropsOnPage:e.query("GET_DROP_ON_PAGE"),requiresDropOnElement:e.query("GET_DROP_ON_ELEMENT")});t.onload=((t,r)=>{const o=e.ref.list.childViews[0],n=zr(o,{left:r.scopeLeft,top:r.scopeTop-e.ref.list.rect.outer.top+e.ref.list.element.scrollTop});be(t,t=>{e.dispatch("ADD_ITEM",{interactionMethod:Re.DROP,source:t,index:n})}),e.dispatch("DID_DROP",{position:r}),e.dispatch("DID_END_DRAG",{position:r})}),t.ondragstart=(t=>{e.dispatch("DID_START_DRAG",{position:t})}),t.ondrag=en(t=>{e.dispatch("DID_DRAG",{position:t})}),t.ondragend=(t=>{e.dispatch("DID_END_DRAG",{position:t})}),e.ref.hopper=t,e.ref.drip=e.appendChildView(e.createChildView(Do))}else!r.value&&e.ref.hopper&&(e.ref.hopper.destroy(),e.ref.hopper=null,e.removeChildView(e.ref.drip))},Dn=({root:e,props:t,action:r})=>{r.value?e.ref.browser=e.appendChildView(e.createChildView(po,babelHelpers.extends({},t,{onload:t=>{be(t,t=>{e.dispatch("ADD_ITEM",{interactionMethod:Re.BROWSE,source:t,index:0})})}})),0):e.ref.browser&&e.removeChildView(e.ref.browser)},bn=({root:e,action:t})=>{t.value?(e.ref.paster=Jo(),e.ref.paster.onload=(t=>{be(t,t=>{e.dispatch("ADD_ITEM",{interactionMethod:Re.PASTE,source:t,index:0})})})):e.ref.paster&&(e.ref.paster.destroy(),e.ref.paster=null)},yn=V({DID_SET_ALLOW_BROWSE:Dn,DID_SET_ALLOW_DROP:Rn,DID_SET_ALLOW_PASTE:bn}),On=F({name:"root",read:({root:e})=>{e.ref.measure&&(e.ref.measureHeight=e.ref.measure.offsetHeight)},create:mn,write:In,destroy:({root:e})=>{e.ref.paster&&e.ref.paster.destroy(),e.ref.hopper&&e.ref.hopper.destroy()},mixins:{styles:["height"]}}),Sn=(e={})=>{let t=null;const o=Fe(),n=r(me(o),[He,he(o)],[Mt,ge(o)]);n.dispatch("SET_OPTIONS",{options:e});const i=On(n,{id:De()});let a=!1,l=!1;const p={_read:()=>{a||(i._read(),l=i.rect.element.hidden)},_write:e=>{if(l)return;const t=n.processActionQueue().filter(e=>!/^SET_/.test(e.type));a&&!t.length||(u(t),(a=i._write(e,t))&&n.processDispatchQueue())}},c=e=>t=>{const r={type:e};if(!t)return r;if(t.hasOwnProperty("error")&&(r.error=t.error?babelHelpers.extends({},t.error):null),t.status&&(r.status=babelHelpers.extends({},t.status)),t.source)r.file=t.source;else if(t.item||t.id){const e=t.item?t.item:n.query("GET_ITEM",t.id);r.file=e?Ae(e):null}return/progress/.test(e)&&(r.progress=t.progress),r},d={DID_DESTROY:c("destroy"),DID_INIT:c("init"),DID_THROW_MAX_FILES:c("warning"),DID_START_ITEM_LOAD:c("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:c("addfileprogress"),DID_LOAD_ITEM:c("addfile"),DID_THROW_ITEM_INVALID:[c("error"),c("addfile")],DID_THROW_ITEM_LOAD_ERROR:[c("error"),c("addfile")],DID_START_ITEM_PROCESSING:c("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:c("processfileprogress"),DID_ABORT_ITEM_PROCESSING:c("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:c("processfile"),DID_REVERT_ITEM_PROCESSING:c("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[c("error"),c("processfile")],SPLICE_ITEM:c("removefile")},u=e=>{e.length&&e.forEach(e=>{if(!d[e.type])return;const t=d[e.type];(Array.isArray(t)?t:[t]).forEach(t=>{(e=>{const t=babelHelpers.extends({pond:T},e);delete t.type,i.element.dispatchEvent(new CustomEvent(`FilePond:${e.type}`,{detail:t,bubbles:!0,cancelable:!0,composed:!0}));const r=[];e.hasOwnProperty("error")&&r.push(e.error),e.hasOwnProperty("file")&&r.push(e.file);const o=["type","error","file"];Object.keys(e).filter(e=>!o.includes(e)).forEach(t=>r.push(e[t])),T.fire(e.type,...r);const s=n.query(`GET_ON${e.type.toUpperCase()}`);s&&s(...r)})(t(e.data))})})},E=(e,t={})=>new Promise((r,o)=>{n.dispatch("ADD_ITEM",{interactionMethod:Re.API,source:e,index:t.index,success:r,failure:o})}),f=e=>(n.dispatch("REMOVE_ITEM",{query:e}),null===n.query("GET_ITEM",e)),_=()=>n.query("GET_ITEMS"),m=e=>new Promise((t,r)=>{n.dispatch("PROCESS_ITEM",{query:e,success:t,failure:r})}),T=babelHelpers.extends({},Oe(),p,Te(n,o),{setOptions:e=>n.dispatch("SET_OPTIONS",{options:e}),addFile:E,addFiles:(...e)=>new Promise((t,r)=>{const o=[],n={};if($(e[0]))o.push(...e[0]),Object.assign(n,e[1]||{});else{const t=e[e.length-1];"object"!=typeof t||t instanceof Blob||Object.assign(n,e.pop()),o.push(...e)}const s=[],i=be(o,e=>{s.push(E(e,n))});Promise.all(i).then(()=>{Promise.all(s).then(e=>{t(e)})})}),getFile:e=>n.query("GET_ITEM",e),processFile:m,removeFile:f,getFiles:_,processFiles:(...e)=>{const t=Array.isArray(e[0])?e[0]:e;return t.length?Promise.all(t.map(m)):Promise.all(_().map(m))},removeFiles:(...e)=>{const t=Array.isArray(e[0])?e[0]:e,r=_();return t.length?t.map(e=>I(e)?r[e]?r[e].id:null:e).filter(e=>e).map(f):Promise.all(r.map(f))},browse:()=>{var e=i.element.querySelector("input[type=file]");e&&e.click()},destroy:()=>{T.fire("destroy",i.element),n.dispatch("ABORT_ALL"),i._destroy(),n.dispatch("DID_DESTROY")},insertBefore:e=>Y(i.element,e),insertAfter:e=>H(i.element,e),appendTo:e=>e.appendChild(i.element),replaceElement:e=>{Y(i.element,e),e.parentNode.removeChild(e),t=e},restoreElement:()=>{t&&(H(t,i.element),i.element.parentNode.removeChild(i.element),t=null)},isAttachedTo:e=>i.element===e||t===e,element:{get:()=>i.element}});return n.dispatch("DID_INIT"),s(T)},Ln=(e={})=>{const t={};return n(Fe(),(e,r)=>{t[e]=r[0]}),Sn(babelHelpers.extends({},t,e))},An=(e,t="-")=>e.replace(new RegExp(`${t}.`,"g"),e=>e.charAt(1).toUpperCase()),Pn=e=>e.charAt(0).toLowerCase()+e.slice(1),wn=e=>An(e.replace(/^data-/,"")),vn=(e,t)=>{n(t,(t,r)=>{n(e,(o,n)=>{const s=new RegExp(t);if(!s.test(o))return;if(delete e[o],!1===r)return;if(Q(r))return void(e[r]=n);const i=r.group;le(r)&&!e[i]&&(e[i]={}),e[i][Pn(o.replace(s,""))]=n}),r.mapping&&vn(e[r.group],r.mapping)})},Mn=(e,t={})=>{const r=[...e.attributes].reduce((t,r)=>(t[wn(r.name)]=i(e,r.name),t),{});return vn(r,t),r},Cn=(e,t={})=>{const r={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};Ge("SET_ATTRIBUTE_TO_OPTION_MAP",r);const o=babelHelpers.extends({},Mn("FIELDSET"===e.nodeName?e.querySelector("input[type=file]"):e,r),t);o.files=(t.files||[]).concat([...e.querySelectorAll("input:not([type=file])")].map(e=>({source:e.value,options:{type:e.dataset.type}})));const n=Ln(o);return e.files&&[...e.files].forEach(e=>{n.addFile(e)}),n.replaceElement(e),n},Nn=(...e)=>t(e[0])?Cn(...e):Ln(...e),Gn=["fire","_read","_write"],xn=e=>{const t={};return Se(e,t,Gn),t},Bn=(e,t)=>e.replace(/(?:{([a-z]+)})/g,(e,r)=>t[r]),Fn=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],qn=["css","csv","html","txt"],Un={zip:"zip|compressed",epub:"application/epub+zip"},Vn=(e="")=>(e=e.toLowerCase(),Fn.includes(e)?"image/"+("jpg"===e?"jpeg":"svg"===e?"svg+xml":e):qn.includes(e)?"text/"+e:Un[e]||null),Yn=e=>{const t=new Blob(["(",e.toString(),")()"],{type:"application/javascript"}),r=URL.createObjectURL(t),o=new Worker(r);return{transfer:(e,t)=>{},post:(e,t,r)=>{const n=De();o.onmessage=(e=>{e.data.id===n&&t(e.data.message)}),o.postMessage({id:n,message:e},r)},terminate:()=>{o.terminate(),URL.revokeObjectURL(r)}}},Hn=(e,t)=>new Promise((t,r)=>{const o=new Image;o.onload=(()=>{t(o)}),o.onerror=(e=>{r(e)}),o.src=e}),$n=e=>ut(e,e.name),Xn=[],Wn=e=>{if(Xn.includes(e))return;Xn.push(e);const t=e({addFilter:xe,utils:{Type:Me,forin:n,isString:Q,toNaturalFileSize:Xt,replaceInString:Bn,getExtensionFromFilename:et,getFilenameWithoutExtension:Dt,guesstimateMimeType:Vn,getFileFromBlob:rt,getFilenameFromURL:Je,createRoute:V,createWorker:Yn,createView:F,loadImage:Hn,copyFile:$n,renameFile:ut,applyFilterChain:Ne}});Be(t.options)},zn={apps:[]},jn="filepond",kn="undefined"!=typeof navigator,Qn=kn&&q(U(zn.apps,"_read","_write"),60);if(kn){const e=()=>{document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:cs,create:es,destroy:ts,parse:rs,find:os,registerPlugin:ds,setOptions:Es}})),document.removeEventListener("DOMContentLoaded",e)};"loading"!==document.readyState?setTimeout(()=>e(),0):document.addEventListener("DOMContentLoaded",e)}const Zn=()=>n(Fe(),(e,t)=>{Jn[e]=t[1]}),Kn=babelHelpers.extends({},bt),Jn={};Zn();const es=(...e)=>{const t=Nn(...e);return t.on("destroy",ts),zn.apps.push(t),xn(t)},ts=e=>{const t=zn.apps.findIndex(t=>t.isAttachedTo(e));if(t>=0){return zn.apps.splice(t,1)[0].restoreElement(),!0}return!1},rs=e=>{return[...e.querySelectorAll(`.${jn}`)].filter(e=>!zn.apps.find(t=>t.isAttachedTo(e))).map(e=>es(e))},os=e=>{const t=zn.apps.find(t=>t.isAttachedTo(e));return t?xn(t):null},ns=()=>"[object OperaMini]"===Object.prototype.toString.call(window.operamini),ss=()=>"Promise"in window,is=()=>"slice"in Blob.prototype,as=()=>"URL"in window&&"createObjectURL"in window.URL,ls=()=>"visibilityState"in document,ps=()=>"performance"in window,cs=()=>!!kn&&!(ns()||!ls()||!ss()||!is()||!as()||!ps()),ds=(...e)=>{e.forEach(Wn),Zn()},us=()=>{const e={};return n(Fe(),(t,r)=>{e[t]=r[0]}),e},Es=e=>(le(e)&&(zn.apps.forEach(t=>{t.setOptions(e)}),qe(e)),us());exports.FileStatus=Kn,exports.OptionTypes=Jn,exports.create=es,exports.destroy=ts,exports.parse=rs,exports.find=os,exports.supported=cs,exports.registerPlugin=ds,exports.getOptions=us,exports.setOptions=Es;
},{"process":366}],277:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=e=>/^image/.test(e.type)&&!/svg/.test(e.type),t={1:()=>[1,0,0,1,0,0],2:e=>[-1,0,0,1,e,0],3:(e,t)=>[-1,0,0,-1,e,t],4:(e,t)=>[1,0,0,-1,0,t],5:()=>[0,1,1,0,0,0],6:(e,t)=>[0,1,-1,0,t,0],7:(e,t)=>[0,-1,-1,0,t,e],8:e=>[0,-1,1,0,0,e]},a=(e,a,i,r)=>{-1!==r&&e.transform(...t[r](a,i))},i=(e,t,i,r)=>{t=Math.round(t),i=Math.round(i),r>=5&&r<=8&&([t,i]=[i,t]);const o=document.createElement("canvas"),n=o.getContext("2d");return r>=5&&r<=8?(o.width=i,o.height=t):(o.width=t,o.height=i),n.save(),a(n,t,i,r),n.drawImage(e,0,0,t,i),n.restore(),"close"in e&&e.close(),o},r={type:"spring",stiffness:.5,damping:.45,mass:10},o=e=>e.utils.createView({name:"image-preview",tag:"div",ignoreRect:!0,create:({root:e,props:t})=>{e.ref.clip=document.createElement("div"),e.element.appendChild(e.ref.clip)},write:e.utils.createRoute({DID_IMAGE_PREVIEW_LOAD:({root:e,props:t,action:a})=>{const{id:r}=t,o=e.query("GET_ITEM",{id:t.id}),n=(o.getMetadata("exif")||{}).orientation||-1;let{width:c,height:s}=a.data;n>=5&&n<=8&&([c,s]=[s,c]);const d=o.getMetadata("crop")||{rect:{x:0,y:0,width:1,height:1},aspectRatio:s/c},l=window.devicePixelRatio,E=e.query("GET_IMAGE_PREVIEW_HEIGHT"),p=e.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),I=e.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),h=e.rect.inner.width,_=s/c,m=h,g=h*_,u=null!==E?E:Math.max(p,Math.min(s,I)),w=u/_,M=i(a.data,w*l,u*l,n);let R=null!==E?E:Math.max(p,Math.min(h*d.aspectRatio,I)),y=R/d.aspectRatio;y>m&&(R=(y=m)*d.aspectRatio);const T=R/(g*d.rect.height);c=m*T,s=g*T;const f=-d.rect.x*m*T,v=-d.rect.y*g*T;e.ref.clip.style.cssText=`\n                    width: ${Math.round(y)}px;\n                    height: ${Math.round(R)}px;\n                `,M.style.cssText=`\n                    width: ${Math.round(c)}px;\n                    height: ${Math.round(s)}px;\n                    transform: translate(${Math.round(f)}px, ${Math.round(v)}px) rotateZ(0.00001deg);\n                `,e.ref.clip.appendChild(M),e.dispatch("DID_IMAGE_PREVIEW_DRAW",{id:r})}}),mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:r,scaleY:r,opacity:{type:"tween",duration:750}}}}),n=(e,t)=>{t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0)},c=e=>e.utils.createView({name:"image-preview-overlay",tag:"canvas",ignoreRect:!0,create:({root:e,props:t})=>{n(t.template,e.element)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}}),s=function(){self.onmessage=(t=>{e(t.data.message,e=>{self.postMessage({id:t.data.id,message:e},[e])})});const e=(e,t)=>{fetch(e.file).then(e=>e.blob()).then(e=>createImageBitmap(e)).then(e=>t(e))}},d=(e,t)=>{let a=new Image;a.onload=(()=>{const e=a.naturalWidth,i=a.naturalHeight;a=null,t(e,i)}),a.src=e},l=e=>-.5*(Math.cos(Math.PI*e)-1),E=(e,t,a=1,i=l,r=10,o=0)=>{const n=1-o,c=t.join(",");for(let t=0;t<=r;t++){const s=t/r,d=o+n*s;e.addColorStop(d,`rgba(${c}, ${i(s)*a})`)}},p=(e,t,a,i,r)=>{e.width=t,e.height=a;const o=e.getContext("2d"),n=.5*t,c=o.createRadialGradient(n,a+110,a-100,n,a+110,a+100);E(c,i,r,void 0,8,.4),o.save(),o.translate(.5*-t,0),o.scale(2,1),o.fillStyle=c,o.fillRect(0,0,t,a),o.restore()},I="undefined"!=typeof navigator,h=500,_=200,m=I&&document.createElement("canvas"),g=I&&document.createElement("canvas"),u=I&&document.createElement("canvas");I&&(p(m,500,200,[40,40,40],.85),p(g,500,200,[196,78,71],1),p(u,500,200,[54,151,99],1));const w=e=>{const t=c(e),a=({root:e})=>{e.ref.overlayShadow.opacity=1,e.ref.overlayError.opacity=0,e.ref.overlaySuccess.opacity=0},i=({root:e})=>{e.ref.overlayShadow.opacity=.25,e.ref.overlayError.opacity=1};return e.utils.createView({name:"image-preview-wrapper",create:({root:a,props:i,dispatch:r})=>{const n=o(e);a.ref.image=a.appendChildView(a.createChildView(n,{id:i.id,scaleX:1.25,scaleY:1.25,opacity:0})),a.ref.overlayShadow=a.appendChildView(a.createChildView(t,{template:m,opacity:0})),a.ref.overlaySuccess=a.appendChildView(a.createChildView(t,{template:u,opacity:0})),a.ref.overlayError=a.appendChildView(a.createChildView(t,{template:g,opacity:0}))},write:e.utils.createRoute({DID_IMAGE_PREVIEW_LOAD:({root:e,props:t})=>{e.ref.overlayShadow.opacity=1},DID_IMAGE_PREVIEW_DRAW:({root:e,props:t})=>{const{image:a}=e.ref;a.scaleX=1,a.scaleY=1,a.opacity=1},DID_IMAGE_PREVIEW_CONTAINER_CREATE:({root:t,props:a,action:i})=>{const{utils:r,views:o}=e,{createView:n,createWorker:c,loadImage:l}=r,{id:E}=a,p=t.query("GET_ITEM",E),I=URL.createObjectURL(p.file),h=(e,t,a,i)=>{l(I).then(_)},_=e=>{URL.revokeObjectURL(I),t.dispatch("DID_IMAGE_PREVIEW_LOAD",{id:E,data:e})};d(I,(e,a)=>{if(t.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE",{id:E,width:e,height:a}),"createImageBitmap"in window){const e=c(s);e.post({file:I},t=>{e.terminate(),t?_(t):h()})}else h()})},DID_THROW_ITEM_LOAD_ERROR:i,DID_THROW_ITEM_PROCESSING_ERROR:i,DID_THROW_ITEM_INVALID:i,DID_COMPLETE_ITEM_PROCESSING:({root:e})=>{e.ref.overlayShadow.opacity=.25,e.ref.overlaySuccess.opacity=1},DID_START_ITEM_PROCESSING:a,DID_REVERT_ITEM_PROCESSING:a})})};var M=t=>{const{addFilter:a,utils:i}=t,{Type:r,createRoute:o}=i,n=w(t);return a("CREATE_VIEW",t=>{const{is:a,view:i,query:r}=t;if(!a("file")||!r("GET_ALLOW_IMAGE_PREVIEW"))return;i.registerWriter(o({DID_LOAD_ITEM:({root:t,props:a,actions:o})=>{const{id:c}=a,s=r("GET_ITEM",c);if(!s)return;const d=s.file;if(!e(d))return;const l="createImageBitmap"in(window||{}),E=r("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");!l&&E&&d.size>E||(t.ref.imagePreview=i.appendChildView(i.createChildView(n,{id:c})),t.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE",{id:c}))},DID_IMAGE_PREVIEW_CALCULATE_SIZE:({root:e,props:t,action:a})=>{const i=e.query("GET_ITEM",{id:t.id}),r=(i.getMetadata("exif")||{}).orientation||-1;let{width:o,height:n}=a;r>=5&&r<=8&&([o,n]=[n,o]);const c=i.getMetadata("crop")||{rect:{x:0,y:0,width:1,height:1},aspectRatio:n/o},s=e.query("GET_IMAGE_PREVIEW_HEIGHT"),d=e.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),l=e.query("GET_IMAGE_PREVIEW_MAX_HEIGHT");(o=(n=null!==s?s:Math.max(d,Math.min(n,l)))/c.aspectRatio)>e.rect.element.width&&(n=(o=e.rect.element.width)*c.aspectRatio),e.ref.imagePreview.element.style.cssText=`height:${Math.round(n)}px`}}))}),{options:{allowImagePreview:[!0,r.BOOLEAN],imagePreviewHeight:[null,r.INT],imagePreviewMinHeight:[44,r.INT],imagePreviewMaxHeight:[256,r.INT],imagePreviewMaxFileSize:[null,r.INT]}}};"undefined"!=typeof navigator&&document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:M})),exports.default=M;
},{}],275:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=function(){self.onmessage=(t=>{e(t.data.message,e=>{self.postMessage({id:t.data.id,message:e})})});const e=(e,t)=>{const{file:a}=e,s=new FileReader;s.onloadend=(()=>{t(s.result.replace("data:","").replace(/^.+,/,""))}),s.readAsDataURL(a)}};var t=({addFilter:t,utils:a})=>{const{Type:s,createWorker:i,createRoute:d,applyFilterChain:n}=a;return t("SHOULD_PREPARE_OUTPUT",e=>new Promise((e,t)=>{e(!0)})),t("COMPLETE_PREPARE_OUTPUT",(t,{item:a})=>new Promise((s,d)=>{delete a.getMetadata().base64,i(e).post({file:t},e=>{a.setMetadata("base64",e),s(t)})})),t("CREATE_VIEW",e=>{const{is:t,view:a,query:s}=e;t("file-wrapper")&&s("GET_ALLOW_FILE_ENCODE")&&a.registerWriter(d({DID_LOAD_ITEM:({root:e,action:t})=>{if(s("IS_ASYNC"))return;const a=s("GET_ITEM",t.id),i=a.getMetadata(),d=i.base64;delete i.base64,e.ref.data.value=JSON.stringify({id:a.id,name:a.file.name,type:a.file.type,size:a.file.size,metadata:i,data:d})}}))}),{options:{allowFileEncode:[!0,s.BOOLEAN]}}};"undefined"!=typeof navigator&&document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:t})),exports.default=t;
},{}],276:[function(require,module,exports) {

},{}],253:[function(require,module,exports) {
module.exports={props:{name:{type:String,required:!0},value:{type:null,default:null},type:{type:String,required:!0},length:{type:[String,Number],default:null},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},options:{type:Object,default:function(){return{}}},newItem:{type:Boolean,default:!1},relationship:{type:Object,default:null}}};
},{}],19:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var i=require("filepond"),t=p(i),n=require("filepond-plugin-image-preview"),l=u(n),s=require("filepond-plugin-file-encode"),o=u(s);require("filepond/dist/filepond.min.css"),require("filepond-plugin-image-preview/dist/filepond-plugin-image-preview.min.css");var r=require("../../../mixins/interface"),d=u(r);function u(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var i={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i[t]=e[t]);return i.default=e,i}t.registerPlugin(FilePondPlwuginImagePreview,o.default),exports.default={mixins:[d.default],mounted:function(){this.pond=t.create(this.$refs.file),this.pond.on("addfile",this.processFile)},beforeDestroy:function(){this.pond.destroy()},methods:{processFile:function(){var i=document.querySelector('.interface-file-upload input[type="hidden"][name="filepond"]'),t=JSON.parse(i.value);this.options.nameField&&this.$emit("setfield",{field:this.options.nameField,value:e.detail.name}),this.options.sizeField&&this.$emit("setfield",{field:this.options.sizeField,value:e.detail.size}),this.options.typeField&&this.$emit("setfield",{field:this.options.typeField,value:e.detail.type}),this.$emit("input",t.data)}}};
(function(){var t=exports.default||module.exports;"function"==typeof t&&(t=t.options),Object.assign(t,{render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"interface-file-upload"},[this.value?e("div",[this._v(" "+this._s(this.value)+" ")]):e("input",{ref:"file",staticClass:"filepond",attrs:{type:"file"}})])},staticRenderFns:[],_compiled:!0,_scopeId:null,functional:void 0});})();
},{"filepond":279,"filepond-plugin-image-preview":277,"filepond-plugin-file-encode":275,"filepond/dist/filepond.min.css":276,"filepond-plugin-image-preview/dist/filepond-plugin-image-preview.min.css":276,"../../../mixins/interface":253}]},{},[19], "__DirectusExtension__")